#include<stdio.h>
#include<stdlib.h>
#define FALSE 0
#define TRUE 1
int main(int argc, char* argv[])
{
 int nLinhas=0, linhaCont=0;
 char linha[100];
 char linha2[100];
 FILE *arq = fopen(argv[1], "r");
 char **M;
 int i,j, ligado, o;
 ligado = FALSE;

 while(fgets(linha2, sizeof(linha2), arq) != NULL)nLinhas++;

 fclose(arq);
 arq = fopen(argv[1], "r");
 M = malloc(nLinhas*sizeof(char*));
 for(i=0;i<nLinhas;i++)
  M[i] = malloc(5*sizeof (char));

 while(fgets(linha, sizeof(linha), arq) != NULL)
 {
  ligado = FALSE;
  for(i=0; linha[i] != ';' ;i++)
  {
   if(linha[i] == '+' || linha[i]=='-')
   { printf("d\n");


    M[linhaCont][0] = linha[i++];
    M[linhaCont][1] = linha[i++];
    M[linhaCont][2] = linha[i++];
    M[linhaCont][3] = linha[i++];
    M[linhaCont][4] = linha[i++];
    break;
   }
   else if(linha[i] == '{')
   {ligado = TRUE;
    M[linhaCont][0] = linha[++i];
    M[linhaCont][1] = linha[++i];
    M[linhaCont][2] = linha[++i];
   }
   if(linha[i]>='0' && linha[i]<='9' && ligado == TRUE)
   {
    M[linhaCont][3] = linha[i++];
    M[linhaCont][4] = linha[i++];
    break;
   }
  }
for(o=5; o>=1; o--)
{
 linha[o]='*';
}
  linhaCont++;
 }

 for(i=0;i<nLinhas;i++)
  for(j=0;j<5;j++)
    printf("%c",M[i][j]);

fclose(arq);
 return 0;
}

